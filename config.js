/**
 * @file config.js
 * @brief スロットゲームの設定を管理するファイル。
 *        ゲームの挙動、リールの構成、アニメーションの速度などを定義します。
 */

// ゲーム全体の設定を管理するオブジェクト
const gameConfig = {
	// --- DOM要素のセレクタ ---
	// HTML側のIDやクラスを変更した場合は、ここを修正するだけで対応できます。
	selectors: {
		slotMachine: '#slot-machine', // スロットマシンのコンテナ
		actionBtn: '#actionBtn',       // スタート/ストップボタン
		modeBtn: '#modeBtn',         // モード切り替えボタン
	},

	// --- ゲームの基本設定 ---
	reelCount: 3,          // リールの数
	symbolHeight: 80,      // 1シンボルの高さ (ピクセル単位)。CSSと一致させる必要があります。
	symbolDuplicationFactor: 2, // 無限スクロールのためにシンボルを何周分複製するか

	// --- リールのシンボル構成 ---
	// 各リールに表示されるシンボルの配列を定義します。
	reelsData: [
		['🍌', '🍋', '🍎', '🍌', '🍋', '💎', '🍉', '🍌', '🍋', 'BAR', '🍒', '🍎', '🍌', '🍋', '🍉', '🍌', '🍋', '7️⃣', '🍇', '7️⃣', '🍇'], // 左リール
		['🍌', '🍒', '🍋', '🍌', '🍎', '💎', '🍉', '🍋', '🍌', '🍒', 'BAR', '🍒', '🍋', '🍌', '🍉', '🍋', '🍌', '🍇', '7️⃣', '🍇', '🍋'], // 中央リール
		['🍋', '🍎', '🍌', '🍋', '🍉', '💎', '🍌', '🍋', '🍒', 'BAR', '🍌', '🍋', '🍉', '🍎', '🍌', '🍋', '🍇', '7️⃣', '🍇', '7️⃣', '🍌']  // 右リール
	],

	// --- ゲーム開始時の状態 ---
	initialReelPositions: [17, 17, 17], // 各リールの初期シンボルインデックス
	initialIsAutoMode: true,             // 初期ゲームモード (true: 自動, false: 目押し)

	// --- アニメーションと速度設定 ---
	autoSpeed: 40,         // 自動モード時のリール回転速度 (ピクセル/フレーム)
	manualSpeed: 10,       // 目押しモード時のリール回転速度 (ピクセル/フレーム)
	accelerationTime: 1000, // スピン開始から最高速に達するまでの加速時間 (ms)
	minStopAnimTime: 10,  // 停止アニメーションの最短時間 (ms)
	maxStopAnimTime: 2000, // 停止アニメーションの最長時間 (ms)
	reverseRotation: true, // リールの回転方向 (true: 下から上へ, false: 上から下へ)

	// --- 自動モード設定 ---
	// 新方式: 最小/最大待ち時間と最小ギャップのみ指定（左→中→右の順で自動分配＋ゆらぎ）
	autoStopMinTime: 1500,               // 左リールの最短停止時刻 (ms)
	autoStopMaxTime: 2800,               // 右リールの最長停止時刻 (ms)
	minSequentialStopGapMs: 120,         // 各リール間の最小停止ギャップ (ms)
	// 旧方式（配列指定）は不要。必要なら下記を復活
	// autoStopTimings: [1800, 2400, 3000], // 各リールの自動停止タイミング (ms)
	// autoStopTimeRandomness: 300,         // 自動停止タイミングのランダムな揺らぎ幅 (ms)

	// --- 狙い撃ち停止設定 (自動モード時のみ有効) ---
	// reelIndex: 対象リールのインデックス (0から)
	// symbolIndex: reelsData 内の対象絵柄のインデックス
	// position: 停止位置 ('top', 'middle', 'bottom')
	// 例: 左リール(0)の下段('bottom')に、インデックス19の絵柄(7️⃣)を止める
	stopTargets: [
		{ reelIndex: 1, symbolIndex: 19, position: 'bottom' }
	],
};