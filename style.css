/*
  ファイル概要: スロットゲームの見た目を定義するスタイルシート
  主な役割: レイアウト、色、フォント、アニメーション効果の指定
*/

/* :root疑似クラス: ドキュメント全体で利用可能なグローバル変数を定義します */
:root {
	/* 色に関する設定値: デザインの変更やテーマの切り替えを容易にします */
	--background-color: #222;
	/* ページ全体の背景色 */
	--text-color: white;
	/* 基本の文字色 */
	--container-border-color: #555;
	/* スロット外枠のボーダー色 */
	--container-background-color: #000;
	/* スロット外枠の背景色 */
	--reel-border-color: #444;
	/* 各リールのボーダー色 */
	--reel-background-color: #111;
	/* 各リールの背景色 */
	--button-background-color: #f0f0f0;
	/* ボタンの背景色 */
	--button-text-color: #333;
	/* ボタンの文字色 */
	--button-hover-background-color: #ddd;
	/* ボタンホバー時の背景色 */
	/* UIスケール: JSから --ui-scale を設定して全体を拡大/縮小できます */
	--ui-scale: 1;

	/* 基礎サイズ（px）: JSのconfig.symbolHeight と一致させること */
	--base-symbol-height: 120px;
	--base-reel-width: 120px;
}

/* body: ページ全体の基本的なスタイルを設定します */
body {
	background: var(--background-color);
	/* 背景色をカスタムプロパティから設定 */
	color: var(--text-color);
	/* 文字色をカスタムプロパティから設定 */
	font-family: sans-serif;
	/* フォントは一般的なサンセリフ体を指定 */
	text-align: center;
	/* 全ての要素を中央揃えに */
	margin: 0;
	/* ブラウザデフォルトの余白をリセット */
	padding-top: 20px;
	/* ページ上部に余白を設ける */
}

/* .slot-container: スロットマシン全体を囲むコンテナ */
.slot-container {
	display: inline-flex;
	/* 中のリールを横一列に並べるためflexboxを利用 */
	border: 5px solid var(--container-border-color);
	/* 枠線を設定 */
	background: var(--container-background-color);
	/* 背景色を設定 */
	padding: 10px;
	/* 内側の余白 */
	margin: 20px auto;
	/* 上下の余白と、左右の自動中央配置 */
	border-radius: 10px;
	/* 角を丸くして柔らかい印象に */
}

/* .reel: 個々のリール（シンボルが回転する列） */

.reel {
	width: calc(var(--base-reel-width) * var(--ui-scale));
	/* リールの幅（スケーラブル） */
	height: calc(var(--base-symbol-height) * 3 * var(--ui-scale));
	/* リールの高さ。シンボル3つ分（symbolHeight * 3） */
	overflow: hidden;
	/* リールからはみ出たシンボルを非表示にする */
	border: 2px solid var(--reel-border-color);
	/* 枠線を設定 */
	margin: 0 5px;
	/* 隣のリールとの間隔 */
	background: var(--reel-background-color);
	/* 背景色を設定 */
	position: relative;
	/* 子要素(.symbols)の絶対位置指定の基準点とする */
}

/* .symbols: シンボル全体を縦に並べて保持するコンテナ */
.symbols {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	/* transformプロパティの変更をブラウザに予告し、アニメーションの描画を最適化させます */
	will-change: transform;
}

/* .symbol: 個々のシンボル（絵文字） */

.symbol {
	height: calc(var(--base-symbol-height) * var(--ui-scale));
	/* 各シンボルの高さ（スケーラブル）。リールの高さの1/3 */
	font-size: calc(80px * var(--ui-scale));
	/* 絵文字のフォントサイズ（スケーラブル） */
	line-height: calc(var(--base-symbol-height) * var(--ui-scale));
	/* 高さとline-heightを合わせ、絵文字を垂直中央に配置 */
	user-select: none;
	/* ユーザーによるテキスト選択を無効化 */
	box-sizing: border-box;
	display: flex;
	align-items: center;
	justify-content: center;
	width: 100%;
	overflow: hidden;
	white-space: nowrap;
	text-align: center;
}

/* .symbol.bar: BARシンボルにのみ適用する特別なスタイル */
.symbol.bar {
	/* BAR シンボルは絵文字サイズとは別に幅広で見せたいが、少しだけ小さくしてリールに収める */
	font-size: calc(56px * var(--ui-scale));
	font-weight: 800;
	letter-spacing: 0.5px;
	/* line-height を基礎のシンボル高さに合わせることで縦中央に調整 */
	line-height: calc(var(--base-symbol-height) * var(--ui-scale));
	/* BAR がリール幅を超えてはみ出すのを防ぐ */
	max-width: 100%;
	box-sizing: border-box;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	/* 横余白をわずかに与えてトリミング位置を安定させる */
	padding: 0 6px;
}

/* .controls: 操作ボタン全体をまとめるコンテナ */
.controls {
	margin-top: 10px;
	/* スロット本体との間に余白を設ける */
}

/* button: 全てのボタンに共通のスタイル */
button {
	margin: 10px;
	/* ボタン同士の間隔 */
	padding: 10px 20px;
	/* ボタン内部の余白（上下10px, 左右20px） */
	font-size: 16px;
	/* 文字サイズ */
	border: none;
	/* デフォルトの枠線を削除 */
	border-radius: 5px;
	/* 角を5px分丸める */
	cursor: pointer;
	/* マウスカーソルを指の形に変更し、クリック可能であることを示す */
	background-color: var(--button-background-color);
	/* 背景色を設定 */
	color: var(--button-text-color);
	/* 文字色を設定 */
	/* 背景色が0.2秒かけて滑らかに変化するアニメーション効果 */
	transition: background-color 0.2s ease;
}

/* button:hover: ボタンにマウスカーソルが乗った時のスタイル */
button:hover {
	background-color: var(--button-hover-background-color);
	/* 背景色を少し暗くする */
}

/* button:disabled: ボタンが無効化された時のスタイル */
button:disabled {
	opacity: 0.6;
	/* 透明度を下げ、操作不可であることを視覚的に示す */
	cursor: not-allowed;
	/* カーソルを「禁止」アイコンに変更 */
}

/* --- 配当表・ファイナンス表示の共通スタイル --- */
.finance {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	font-size: 16px;
	vertical-align: middle;
}

#betInput {
	width: 90px;
	padding: 6px 8px;
	border-radius: 6px;
	border: 1px solid var(--container-border-color);
	background: var(--reel-background-color);
	color: var(--text-color);
	font-size: 15px;
	box-sizing: border-box;
}

.finance .badge {
	display: inline-block;
	padding: 8px 12px;
	border-radius: 10px;
	background: var(--container-background-color);
	border: 1px solid var(--container-border-color);
	color: var(--text-color);
	font-weight: 700;
	min-width: 88px;
	text-align: center;
	font-size: 18px;
}


#balance {
	color: #ffd166;
	font-weight: 800;
	font-size: 20px;
}

#debt {
	color: #ff6b6b;
	font-weight: 800;
	font-size: 20px;
}

/* 配当表 */
.payout-area {
	max-width: 420px;
	margin: 12px auto;
	padding: 10px;
	border-radius: 8px;
	background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
	border: 1px solid var(--container-border-color);
	color: var(--text-color);
}

.payout-area h3 {
	margin: 0 0 8px 0;
	font-size: 18px;
	font-weight: 700;
}

.payout-list {
	display: block;
	max-height: 240px;
	overflow: auto;
	border-top: 1px solid rgba(255, 255, 255, 0.03);
}

.payout-row {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 6px 8px;
	border-bottom: 1px dashed rgba(255, 255, 255, 0.03);
	font-size: 16px;
	line-height: 20px;
}

.payout-row:first-of-type {
	border-top: none;
}

/* レスポンシブ微調整 */
@media (max-width: 480px) {
	.payout-area {
		max-width: 96%;
		padding: 8px;
	}

	#betInput {
		width: 72px;
	}

	.payout-row {
		font-size: 14px;
	}
}

/* 勝利メッセージのスタイル: 中央に大きくフェードインしてフェードアウト */
#winMessage {
	position: fixed;
	left: 50%;
	top: 42%;
	transform: translate(-50%, -50%) scale(1);
	background: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
	color: #fff;
	padding: 18px 26px;
	border-radius: 12px;
	box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
	font-size: 30px;
	font-weight: 800;
	z-index: 10000;
	pointer-events: none;
	opacity: 0;
	transition: opacity 360ms ease, transform 360ms cubic-bezier(.2, .9, .2, 1);
	border: 1px solid rgba(255, 255, 255, 0.08);
}

#winMessage.show {
	opacity: 1;
	transform: translate(-50%, -50%) scale(1.06);
}

#winMessage .amount {
	color: #ffd166;
	text-shadow: 0 3px 10px rgba(0, 0, 0, 0.6);
	display: block;
	font-size: 36px;
}

#winMessage .sub {
	font-size: 14px;
	color: rgba(255, 255, 255, 0.9);
	margin-top: 6px;
	font-weight: 600;
}